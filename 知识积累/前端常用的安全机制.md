# H5guard
H5guard 是一个前端安全防护工具，主要作用包括：
1. 请求拦截和过滤
   - 通过 xhrHook 和 fetchHook 拦截 XMLHttpRequest 和 fetch 请求
   - 只允许白名单域名的请求通过
   - 防止跨站点请求伪造(CSRF)和未授权的 API 调用
2. 域名安全
   - 通过 domains 配置白名单域名
   - 限制页面只能访问指定的域名
   - 防止恶意请求和数据泄露
3. 防护功能
   - 防止 XSS(跨站脚本攻击)
   - 防止点击劫持
   - 防止敏感信息泄露
   - 监控异常请求
4. 监控和日志
   - 记录可疑的请求行为
   - 提供安全审计日志
   - 帮助及时发现安全问题

```
function getH5guardScript() {
    const swimlane = process.env.SWIMLANE;
    const swimlaneDomain = `${swimlane}-测试环境站点`;
    
    return `
        (function() {
            if (H5guard) {
                H5guard.init({
                    xhrHook: true, // 开启 XMLHttpRequest 请求拦截
                    fetchHook: true, // 开启 fetch 请求拦截
                    domains: [ // 允许的域名白名单
                        '测试环境站点',
                        '线上环境站点', 
                        '${swimlaneDomain}'
                    ],
                    geo: false, // 关闭地理位置功能
                });
            }
        })()
    `;
}
```

# CSP (Content Security Policy)
可以在 meta 标签中设置 CSP 策略或通过 HTTP 请求头传递 CSP 策略。

```
<meta http-equiv="Content-Security-Policy" content="default-src 'self'">
```

作用：
- 控制资源加载来源
- 防止 XSS 攻击
- 限制内联脚本执行

# CSRF Token

# HttpOnly Cookie

# Same-Site Cookie

# 输入验证和过滤

# HTTPS

# 权限控制

# 敏感信息加密

# 点击劫持防护

# 错误监控

# 子资源完整性 (SRI)

# 